import{r as t,c as e,h as n,g as i,H as r}from"./p-d703c309.js";import{g as o}from"./p-927ebebc.js";import{e as a,g as c,C as s,s as u}from"./p-e14d02bd.js";import{s as l}from"./p-80e8f28d.js";import{c as f,g as p}from"./p-16e63a98.js";import{s as y}from"./p-0050330c.js";import"./p-0b4cf4f0.js";import"./p-82285f77.js";import"./p-ae8fd155.js";let d=class{constructor(n){t(this,n),this.calciteAccordionChange=e(this,"calciteAccordionChange",7),this.appearance="default",this.iconPosition="end",this.iconType="chevron",this.scale="m",this.selectionMode="multi",this.items=[],this.sorted=!1,this.sortItems=t=>t.sort(((t,e)=>t.position-e.position)).map((t=>t.item))}componentDidLoad(){this.sorted||(this.items=this.sortItems(this.items),this.sorted=!0)}render(){return n("slot",null)}calciteAccordionItemKeyEvent(t){if(this.el===t.detail.parent){const e=o(t.detail.item.key),n=t.target,i=0===this.itemIndex(n),r=this.itemIndex(n)===this.items.length-1;switch(e){case"ArrowDown":r?this.focusFirstItem():this.focusNextItem(n);break;case"ArrowUp":i?this.focusLastItem():this.focusPrevItem(n);break;case"Home":this.focusFirstItem();break;case"End":this.focusLastItem()}}}registerCalciteAccordionItem(t){const e={item:t.target,parent:t.detail.parent,position:t.detail.position};this.el===e.parent&&this.items.push(e)}updateActiveItemOnChange(t){this.requestedAccordionItem=t.detail.requestedAccordionItem,this.calciteAccordionChange.emit({requestedAccordionItem:this.requestedAccordionItem})}focusFirstItem(){this.focusElement(this.items[0])}focusLastItem(){this.focusElement(this.items[this.items.length-1])}focusNextItem(t){const e=this.itemIndex(t);this.focusElement(this.items[e+1]||this.items[0])}focusPrevItem(t){const e=this.itemIndex(t);this.focusElement(this.items[e-1]||this.items[this.items.length-1])}itemIndex(t){return this.items.indexOf(t)}focusElement(t){t.focus()}get el(){return i(this)}};d.style="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:300ms}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}:root{--calcite-popper-transition:150ms ease-in-out}:host([hidden]){display:none}:host([scale=s]){--calcite-accordion-item-spacing-unit:0.25rem;--calcite-accordion-icon-margin:0.5rem;--calcite-accordion-item-padding:var(--calcite-accordion-item-spacing-unit) 0.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]){--calcite-accordion-item-spacing-unit:0.5rem;--calcite-accordion-icon-margin:0.75rem;--calcite-accordion-item-padding:var(--calcite-accordion-item-spacing-unit) 0.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]){--calcite-accordion-item-spacing-unit:0.75rem;--calcite-accordion-icon-margin:1rem;--calcite-accordion-item-padding:var(--calcite-accordion-item-spacing-unit) 1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host{display:block;position:relative;max-width:100%;border-width:1px;border-style:solid;border-color:var(--calcite-ui-border-2);border-bottom-width:0;line-height:1.5rem;--calcite-accordion-item-border:var(--calcite-ui-border-2);--calcite-accordion-item-background:var(--calcite-ui-foreground-1)}:host([appearance=minimal]){--calcite-accordion-item-padding:var(--calcite-accordion-item-spacing-unit) 0;border-color:transparent}:host([appearance=transparent]){border-color:transparent;--calcite-accordion-item-border:transparent;--calcite-accordion-item-background:transparent}";let m=class{constructor(n){t(this,n),this.calciteAccordionItemKeyEvent=e(this,"calciteAccordionItemKeyEvent",7),this.calciteAccordionItemSelect=e(this,"calciteAccordionItemSelect",7),this.calciteAccordionItemClose=e(this,"calciteAccordionItemClose",7),this.calciteAccordionItemRegister=e(this,"calciteAccordionItemRegister",7),this.active=!1,this.iconPosition="end",this.itemHeaderClickHandler=()=>this.emitRequestedItem()}connectedCallback(){this.parent=this.el.parentElement,this.selectionMode=a(this.el,"selection-mode","multi"),this.iconType=a(this.el,"icon-type","chevron"),this.iconPosition=a(this.el,"icon-position",this.iconPosition)}componentDidLoad(){this.itemPosition=this.getItemPosition(),this.calciteAccordionItemRegister.emit({parent:this.parent,position:this.itemPosition})}render(){const t=c(this.el),e=n("calcite-icon",{class:"accordion-item-icon",icon:this.icon,scale:"s"});return n(r,{"aria-expanded":this.active.toString(),tabindex:"0"},n("div",{class:{[`icon-position--${this.iconPosition}`]:!0,[`icon-type--${this.iconType}`]:!0}},n("div",{class:{"accordion-item-header":!0,[s.rtl]:"rtl"===t},onClick:this.itemHeaderClickHandler},this.icon?e:null,n("div",{class:"accordion-item-header-text"},n("span",{class:"accordion-item-title"},this.itemTitle),this.itemSubtitle?n("span",{class:"accordion-item-subtitle"},this.itemSubtitle):null),n("calcite-icon",{class:"accordion-item-expand-icon",icon:"chevron"===this.iconType?"chevronDown":"caret"===this.iconType?"caretDown":this.active?"minus":"plus",scale:"s"})),n("div",{class:"accordion-item-content"},n("slot",null))))}keyDownHandler(t){if(t.target===this.el)switch(o(t.key)){case" ":case"Enter":this.emitRequestedItem(),t.preventDefault();break;case"ArrowUp":case"ArrowDown":case"Home":case"End":this.calciteAccordionItemKeyEvent.emit({parent:this.parent,item:t}),t.preventDefault()}}updateActiveItemOnChange(t){this.requestedAccordionItem=t.detail.requestedAccordionItem,this.el.parentNode===this.requestedAccordionItem.parentNode&&this.determineActiveItem()}determineActiveItem(){switch(this.selectionMode){case"multi":this.el===this.requestedAccordionItem&&(this.active=!this.active);break;case"single":this.active=this.el===this.requestedAccordionItem&&!this.active;break;case"single-persist":this.active=this.el===this.requestedAccordionItem}}emitRequestedItem(){this.calciteAccordionItemSelect.emit({requestedAccordionItem:this.el})}getItemPosition(){return Array.prototype.indexOf.call(this.parent.querySelectorAll("calcite-accordion-item"),this.el)}get el(){return i(this)}};
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 */
var h;m.style="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:300ms}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}:root{--calcite-popper-transition:150ms ease-in-out}:host([hidden]){display:none}.icon-position--end,.icon-position--start{--calcite-accordion-item-icon-rotation:-90deg;--calcite-accordion-item-active-icon-rotation:0;--calcite-accordion-item-icon-rotation-rtl:90deg;--calcite-accordion-item-active-icon-rotation-rtl:0}.icon-position--start{--calcite-accordion-item-flex-direction:row-reverse;--calcite-accordion-item-icon-spacing-start:0;--calcite-accordion-item-icon-spacing-end:var(--calcite-accordion-icon-margin)}.icon-position--end{--calcite-accordion-item-flex-direction:row;--calcite-accordion-item-icon-spacing-start:var(--calcite-accordion-icon-margin);--calcite-accordion-item-icon-spacing-end:0}.icon-position--end:not(.icon-type--plus-minus){--calcite-accordion-item-icon-rotation:0;--calcite-accordion-item-active-icon-rotation:180deg;--calcite-accordion-item-icon-rotation-rtl:0;--calcite-accordion-item-active-icon-rotation-rtl:-180deg}:host{--calcite-accordion-item-background:var(--calcite-ui-foreground-1)}:host-context([appearance=minimal]){--calcite-accordion-item-padding:var(--calcite-accordion-item-spacing-unit) 0}:host-context([appearance=transparent]){--calcite-accordion-item-border:transparent;--calcite-accordion-item-background:transparent}:host{display:flex;flex-direction:column;text-decoration:none;outline:2px solid transparent;outline-offset:2px;position:relative;color:var(--calcite-ui-text-3);background-color:var(--calcite-accordion-item-background);--calcite-accordion-item-border:var(--calcite-ui-border-2)}:host .accordion-item-header{outline-offset:0;outline-color:transparent;transition:outline-offset 100ms ease-in-out, outline-color 100ms ease-in-out}:host(:focus) .accordion-item-header{outline:2px solid var(--calcite-ui-brand);outline-offset:-2px}:host([active]){color:var(--calcite-ui-text-1)}:host([active]) .accordion-item-content{display:block;color:var(--calcite-ui-text-1)}:host([active]) .accordion-item-header{border-bottom-color:transparent}:host .accordion-item-header{display:flex;align-items:center;cursor:pointer;flex-direction:var(--calcite-accordion-item-flex-direction)}:host .accordion-item-icon{display:inline-flex;position:relative;margin:0;color:var(--calcite-ui-text-3);transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);margin-right:var(--calcite-accordion-item-icon-spacing-start);margin-left:var(--calcite-accordion-item-icon-spacing-end)}.calcite--rtl .accordion-item-icon{margin-left:var(--calcite-accordion-item-icon-spacing-start);margin-right:var(--calcite-accordion-item-icon-spacing-end)}:host .accordion-item-content,:host .accordion-item-header{padding:var(--calcite-accordion-item-padding);border-bottom:1px solid var(--calcite-accordion-item-border)}:host .accordion-item-header *{display:inline-flex;align-items:center;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1)}:host .accordion-item-content{display:none;color:var(--calcite-ui-text-3);padding-top:0;text-align:initial}:host .accordion-item-expand-icon{color:var(--calcite-ui-text-3);margin-left:var(--calcite-accordion-item-icon-spacing-start);margin-right:var(--calcite-accordion-item-icon-spacing-end);transform:rotate(var(--calcite-accordion-item-icon-rotation))}.calcite--rtl .accordion-item-expand-icon{margin-left:var(--calcite-accordion-item-icon-spacing-end);margin-right:var(--calcite-accordion-item-icon-spacing-start);transform:rotate(var(--calcite-accordion-item-icon-rotation-rtl))}:host([active]) .accordion-item-expand-icon{color:var(--calcite-ui-text-1);transform:rotate(var(--calcite-accordion-item-active-icon-rotation))}:host([active]) .calcite--rtl .accordion-item-expand-icon{transform:rotate(var(--calcite-accordion-item-active-icon-rotation-rtl))}:host .accordion-item-header-text{flex-direction:column;flex-grow:1;margin-top:0;margin-bottom:0;padding-top:0;padding-bottom:0;margin-right:auto;text-align:initial}.calcite--rtl .accordion-item-header-text{margin-right:0;margin-left:auto}:host .accordion-item-title,:host .accordion-item-subtitle{display:flex;width:100%}:host .accordion-item-title{color:var(--calcite-ui-text-2);font-weight:var(--calcite-font-weight-medium)}:host .accordion-item-subtitle{color:var(--calcite-ui-text-3);margin-top:0.25rem}.calcite--rtl .accordion-item-title{margin-right:0;margin-left:auto}:host(:focus) .accordion-item-title,:host(:hover) .accordion-item-title{color:var(--calcite-ui-text-1)}:host(:focus) .accordion-item-icon,:host(:hover) .accordion-item-icon{color:var(--calcite-ui-text-1)}:host(:focus) .accordion-item-expand-icon,:host(:hover) .accordion-item-expand-icon{color:var(--calcite-ui-text-1)}:host(:focus) .accordion-item-subtitle,:host(:hover) .accordion-item-subtitle{color:var(--calcite-ui-text-2)}:host(:focus) .accordion-item-title,:host(:active) .accordion-item-title,:host([active]) .accordion-item-title{color:var(--calcite-ui-text-1)}:host(:focus) .accordion-item-icon,:host(:active) .accordion-item-icon,:host([active]) .accordion-item-icon{color:var(--calcite-ui-text-1)}:host(:focus) .accordion-item-expand-icon,:host(:active) .accordion-item-expand-icon,:host([active]) .accordion-item-expand-icon{color:var(--calcite-ui-text-1)}:host(:focus) .accordion-item-subtitle,:host(:active) .accordion-item-subtitle,:host([active]) .accordion-item-subtitle{color:var(--calcite-ui-text-2)}",function(t){t.valid="check-circle",t.invalid="exclamation-mark-triangle",t.idle="information"}(h||(h={}));let b=class{constructor(e){t(this,e),this.active=!1,this.scale="m",this.status="idle"}handleIconEl(){this.requestedIcon=u(h,this.icon,this.status)}connectedCallback(){this.status=a(this.el,"status",this.status),this.scale=a(this.el,"scale",this.scale),this.requestedIcon=u(h,this.icon,this.status)}render(){return n(r,{"calcite-hydrated-hidden":!this.active},this.renderIcon(this.requestedIcon),n("slot",null))}renderIcon(t){if(t){const e=c(this.el);return n("calcite-icon",{class:{"calcite-input-message-icon":!0,[s.rtl]:"rtl"===e},icon:t,scale:"s"})}}get el(){return i(this)}static get watchers(){return{status:["handleIconEl"],icon:["handleIconEl"]}}};b.style="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:300ms}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}:root{--calcite-popper-transition:150ms ease-in-out}:host([hidden]){display:none}:host([active][scale=m]),:host([active][scale=l]){--calcite-input-message-spacing-value:0.25rem}:host{display:flex;align-items:center;width:100%;box-sizing:border-box;color:var(--calcite-ui-text-1);font-weight:var(--calcite-font-weight-medium);visibility:hidden;height:0;pointer-events:none;opacity:0;transition-property:all;transition-duration:150ms;transition-timing-function:ease-in-out;transition-delay:0s}:host([active]){height:auto;visibility:visible;opacity:1;transition-property:all;transition-duration:150ms;transition-timing-function:ease-in-out;transition-delay:0s}:host([active][scale=m]),:host([active][scale=l]){margin-top:var(--calcite-input-message-spacing-value)}.calcite-input-message-icon{display:inline-flex;flex-shrink:0;pointer-events:none;margin-right:0.5rem;transition-property:all;transition-duration:150ms;transition-timing-function:ease-in-out;transition-delay:0s}.calcite-input-message-icon.calcite--rtl{margin-left:0.5rem;margin-right:0}:host([status=invalid]) .calcite-input-message-icon{color:var(--calcite-ui-danger)}:host([status=warning]) .calcite-input-message-icon{color:var(--calcite-ui-warning)}:host([status=valid]) .calcite-input-message-icon{color:var(--calcite-ui-success)}:host([status=idle]) .calcite-input-message-icon{color:var(--calcite-ui-brand)}:host([status][active]){color:var(--calcite-ui-text-1);font-weight:var(--calcite-font-weight-medium)}:host([status][active][scale=s]){font-size:var(--calcite-font-size--3);line-height:0.75rem}:host([status][active][scale=m]){font-size:var(--calcite-font-size--2);line-height:1rem;margin-top:0.25rem}:host([status][active][scale=l]){font-size:var(--calcite-font-size--1);line-height:1rem;margin-top:0.25rem}";let v=class{constructor(n){t(this,n),this.elementUpdated=e(this,"elementUpdated",7),this.elementTitle="Input: Title",this.required=!1,this.type="text",this.translator="arcgis",this.subtype=null,this.elementId="title",this.value="",this.description="",this.metadataEditors={geography:{component:"hub-geography-picker"},topics:{component:"hub-topic-picker"},license:{component:"hub-license-picker"}}}requiredStatus(){return this.required?"metadata-required":"metadata-optional"}getMetadataEditor(t){return this.metadataEditors[t]}editorUpdatedHandler(t){const e={};e[this.schema.translation[this.translator][0]]=t.detail,console.log("metadata-element-view: elementUpdatedHandler",e),this.elementUpdated.emit(e)}onInput(){const t={};t[this.schema.translation[this.translator][0]]=this.metadataEl.value,console.log("metadata-element-view: onInput",t),this.elementUpdated.emit(t)}renderEditor(t,e){var i;if(console.log("renderEditor",t,this.getMetadataEditor(e)),e){const t=this.getMetadataEditor(e),r=`<${t.component} options="${null===(i=this.schema.items)||void 0===i?void 0:i.enum}" values="${this.value}"></${t.component}>`;return n("div",{class:e,innerHTML:r})}return n("calcite-input",{onInput:()=>this.onInput(),required:this.required,ref:t=>this.metadataEl=t,id:this.elementId,type:this.type,class:this.requiredStatus(),value:this.value})}render(){return n(r,null,n("slot",null),n("calcite-label",{status:"valid"},this.elementTitle),this.renderEditor(this.type,this.subtype),n("calcite-input-message",{active:!0},this.description))}};v.style=":host{display:block}input,textarea{width:100%;height:40px;font-size:16px}textarea{height:80px}calcite-label.metadata-required::after{content:'*';color:red}label{margin-top:5px;display:block;font-weight:600}.geography{height:400px}";let g=class{constructor(e){t(this,e),this.sections=[],this.locale="en",this.resource=null}async componentWillLoad(){console.log("Metadata Form componentWillLoad",this.sections),l({category:"hub-component",action:"hub-metadata-form:loaded",label:""})}resourceUpdated(t){console.log("trace metadata-form: resourceUpdated",t.detail)}render(){return console.log("MetadataForm: render",this.resource),n(r,null,n("slot",null),n("calcite-accordion",null,this.sections.map((t=>n("calcite-accordion-item",{"item-title":t,active:!0},n("metadata-section-view",{spec:t,locale:this.locale,resource:this.resource}))))))}get element(){return i(this)}};g.style=":host{display:block}";let w=class{constructor(e){t(this,e),this.elementTitle="Basic Info",this.description="This information is used in search results, gallery cards and on the details views."}render(){return n(r,null,n("slot",null),n("div",{class:"metadata-section-help"},n("h3",null,this.elementTitle),n("p",null,this.description)))}};w.style=":host{display:block}";var j,S=Object.prototype.toString,A=function(t){var e=S.call(t),n="[object Arguments]"===e;return n||(n="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===S.call(t.callee)),n};if(!Object.keys){var x=Object.prototype.hasOwnProperty,O=Object.prototype.toString,E=A,P=Object.prototype.propertyIsEnumerable,I=!P.call({toString:null},"toString"),k=P.call((function(){}),"prototype"),F=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],$=function(t){var e=t.constructor;return e&&e.prototype===t},R={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},_=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!R["$"+t]&&x.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{$(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();j=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===O.call(t),i=E(t),r=e&&"[object String]"===O.call(t),o=[];if(!e&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var a=k&&n;if(r&&t.length>0&&!x.call(t,0))for(var c=0;c<t.length;++c)o.push(String(c));if(i&&t.length>0)for(var s=0;s<t.length;++s)o.push(String(s));else for(var u in t)a&&"prototype"===u||!x.call(t,u)||o.push(String(u));if(I)for(var l=function(t){if("undefined"==typeof window||!_)return $(t);try{return $(t)}catch(t){return!1}}(t),f=0;f<F.length;++f)l&&"constructor"===F[f]||!x.call(t,F[f])||o.push(F[f]);return o}}var U=Array.prototype.slice,D=Object.keys,M=D?function(t){return D(t)}:j,T=Object.keys;M.shim=function(){return Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return A(t)?T(U.call(t)):T(t)}):Object.keys=M,Object.keys||M};var N=M,W="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),B=Object.prototype.toString,C=Array.prototype.concat,z=Object.defineProperty,L=z&&function(){var t={};try{for(var e in z(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),G=function(t,e,n,i){var r;(!(e in t)||"function"==typeof(r=i)&&"[object Function]"===B.call(r)&&i())&&(L?z(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},H=function(t,e){var n=arguments.length>2?arguments[2]:{},i=N(e);W&&(i=C.call(i,Object.getOwnPropertySymbols(e)));for(var r=0;r<i.length;r+=1)G(t,i[r],e[i[r]],n[i[r]])};H.supportsDescriptors=!!L;var q=H,V="Function.prototype.bind called on incompatible ",J=Array.prototype.slice,K=Object.prototype.toString,X=Function.prototype.bind||function(t){var e=this;if("function"!=typeof e||"[object Function]"!==K.call(e))throw new TypeError(V+e);for(var n,i=J.call(arguments,1),r=function(){if(this instanceof n){var r=e.apply(this,i.concat(J.call(arguments)));return Object(r)===r?r:this}return e.apply(t,i.concat(J.call(arguments)))},o=Math.max(0,e.length-i.length),a=[],c=0;c<o;c++)a.push("$"+c);if(n=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(r),e.prototype){var s=function(){};s.prototype=e.prototype,n.prototype=new s,s.prototype=null}return n},Y=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var i=Object.getOwnPropertySymbols(t);if(1!==i.length||i[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(t,e);if(42!==r.value||!0!==r.enumerable)return!1}return!0},Z="undefined"!=typeof Symbol&&Symbol,Q=function(){return"function"==typeof Z&&"function"==typeof Symbol&&"symbol"==typeof Z("foo")&&"symbol"==typeof Symbol("bar")&&Y()},tt=X.call(Function.call,Object.prototype.hasOwnProperty),et=SyntaxError,nt=Function,it=TypeError,rt=function(t){try{return nt('"use strict"; return ('+t+").constructor;")()}catch(t){}},ot=Object.getOwnPropertyDescriptor,at=function(){throw new it},ct=ot?function(){try{return at}catch(t){try{return ot(arguments,"callee").get}catch(t){return at}}}():at,st=Q(),ut=Object.getPrototypeOf||function(t){return t.__proto__},lt={},ft="undefined"==typeof Uint8Array?void 0:ut(Uint8Array),pt={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":st?ut([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":lt,"%AsyncGenerator%":lt,"%AsyncGeneratorFunction%":lt,"%AsyncIteratorPrototype%":lt,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":nt,"%GeneratorFunction%":lt,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":st?ut(ut([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&st?ut((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&st?ut((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":st?ut(""[Symbol.iterator]()):void 0,"%Symbol%":st?Symbol:void 0,"%SyntaxError%":et,"%ThrowTypeError%":ct,"%TypedArray%":ft,"%TypeError%":it,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},yt=function t(e){var n;if("%AsyncFunction%"===e)n=rt("async function () {}");else if("%GeneratorFunction%"===e)n=rt("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=rt("async function* () {}");else if("%AsyncGenerator%"===e){var i=t("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if("%AsyncIteratorPrototype%"===e){var r=t("%AsyncGenerator%");r&&(n=ut(r.prototype))}return pt[e]=n,n},dt={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},mt=X.call(Function.call,Array.prototype.concat),ht=X.call(Function.apply,Array.prototype.splice),bt=X.call(Function.call,String.prototype.replace),vt=X.call(Function.call,String.prototype.slice),gt=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,wt=/\\(\\)?/g,jt=function(t){var e=vt(t,0,1),n=vt(t,-1);if("%"===e&&"%"!==n)throw new et("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new et("invalid intrinsic syntax, expected opening `%`");var i=[];return bt(t,gt,(function(t,e,n,r){i[i.length]=n?bt(r,wt,"$1"):e||t})),i},St=function(t,e){var n,i=t;if(tt(dt,i)&&(i="%"+(n=dt[i])[0]+"%"),tt(pt,i)){var r=pt[i];if(r===lt&&(r=yt(i)),void 0===r&&!e)throw new it("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:r}}throw new et("intrinsic "+t+" does not exist!")},At=function(t,e){if("string"!=typeof t||0===t.length)throw new it("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new it('"allowMissing" argument must be a boolean');var n=jt(t),i=n.length>0?n[0]:"",r=St("%"+i+"%",e),o=r.name,a=r.value,c=!1,s=r.alias;s&&(i=s[0],ht(n,mt([0,1],s)));for(var u=1,l=!0;u<n.length;u+=1){var f=n[u],p=vt(f,0,1),y=vt(f,-1);if(('"'===p||"'"===p||"`"===p||'"'===y||"'"===y||"`"===y)&&p!==y)throw new et("property names with quotes must have matching quotes");if("constructor"!==f&&l||(c=!0),tt(pt,o="%"+(i+="."+f)+"%"))a=pt[o];else if(null!=a){if(!(f in a)){if(!e)throw new it("base intrinsic for "+t+" exists, but the property is not available.");return}if(ot&&u+1>=n.length){var d=ot(a,f);a=(l=!!d)&&"get"in d&&!("originalValue"in d.get)?d.get:a[f]}else l=tt(a,f),a=a[f];l&&!c&&(pt[o]=a)}}return a},xt=f((function(t){var e=At("%Function.prototype.apply%"),n=At("%Function.prototype.call%"),i=At("%Reflect.apply%",!0)||X.call(n,e),r=At("%Object.getOwnPropertyDescriptor%",!0),o=At("%Object.defineProperty%",!0),a=At("%Math.max%");if(o)try{o({},"a",{value:1})}catch(t){o=null}t.exports=function(t){var e=i(X,n,arguments);if(r&&o){var c=r(e,"length");c.configurable&&o(e,"length",{value:1+a(0,t.length-(arguments.length-1))})}return e};var c=function(){return i(X,e,arguments)};o?o(t.exports,"apply",{value:c}):t.exports.apply=c})),Ot=xt(At("String.prototype.indexOf")),Et=function(t,e){var n=At(t,!!e);return"function"==typeof n&&Ot(t,".prototype.")>-1?xt(n):n},Pt=At("%TypeError%"),It=function(t,e){if(null==t)throw new Pt(e||"Cannot call method on "+t);return t},kt=At("%Array%"),Ft=!kt.isArray&&Et("Object.prototype.toString"),$t=kt.isArray||function(t){return"[object Array]"===Ft(t)},Rt=At("%TypeError%"),_t=At("%Reflect.apply%",!0)||Et("%Function.prototype.apply%"),Ut=function(t,e){var n=arguments.length>2?arguments[2]:[];if(!$t(n))throw new Rt("Assertion failed: optional `argumentsList`, if provided, must be a List");return _t(t,e,n)};const Dt=p(Object.freeze({__proto__:null,default:{}}));var Mt="function"==typeof Map&&Map.prototype,Tt=Object.getOwnPropertyDescriptor&&Mt?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Nt=Mt&&Tt&&"function"==typeof Tt.get?Tt.get:null,Wt=Mt&&Map.prototype.forEach,Bt="function"==typeof Set&&Set.prototype,Ct=Object.getOwnPropertyDescriptor&&Bt?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,zt=Bt&&Ct&&"function"==typeof Ct.get?Ct.get:null,Lt=Bt&&Set.prototype.forEach,Gt="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,Ht="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,qt="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,Vt=Boolean.prototype.valueOf,Jt=Object.prototype.toString,Kt=Function.prototype.toString,Xt=String.prototype.match,Yt="function"==typeof BigInt?BigInt.prototype.valueOf:null,Zt=Object.getOwnPropertySymbols,Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,te="function"==typeof Symbol&&"object"==typeof Symbol.iterator,ee=Object.prototype.propertyIsEnumerable,ne=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null),ie=Dt.custom,re=ie&&le(ie)?ie:null,oe="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null,ae=function t(e,n,i,r){var o=n||{};if(pe(o,"quoteStyle")&&"single"!==o.quoteStyle&&"double"!==o.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(pe(o,"maxStringLength")&&("number"==typeof o.maxStringLength?o.maxStringLength<0&&o.maxStringLength!==1/0:null!==o.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=!pe(o,"customInspect")||o.customInspect;if("boolean"!=typeof a&&"symbol"!==a)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(pe(o,"indent")&&null!==o.indent&&"\t"!==o.indent&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return me(e,o);if("number"==typeof e)return 0===e?1/0/e>0?"0":"-0":String(e);if("bigint"==typeof e)return String(e)+"n";var c=void 0===o.depth?5:o.depth;if(void 0===i&&(i=0),i>=c&&c>0&&"object"==typeof e)return ue(e)?"[Array]":"[Object]";var s,u=function(t,e){var n;if("\t"===t.indent)n="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;n=Array(t.indent+1).join(" ")}return{base:n,prev:Array(e+1).join(n)}}(o,i);if(void 0===r)r=[];else if(de(r,e)>=0)return"[Circular]";function l(e,n,a){if(n&&(r=r.slice()).push(n),a){var c={depth:o.depth};return pe(o,"quoteStyle")&&(c.quoteStyle=o.quoteStyle),t(e,c,i+1,r)}return t(e,o,i+1,r)}if("function"==typeof e){var f=function(t){if(t.name)return t.name;var e=Xt.call(Kt.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}(e),p=je(e,l);return"[Function"+(f?": "+f:" (anonymous)")+"]"+(p.length>0?" { "+p.join(", ")+" }":"")}if(le(e)){var y=te?String(e).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):Qt.call(e);return"object"!=typeof e||te?y:be(y)}if((s=e)&&"object"==typeof s&&("undefined"!=typeof HTMLElement&&s instanceof HTMLElement||"string"==typeof s.nodeName&&"function"==typeof s.getAttribute)){for(var d="<"+String(e.nodeName).toLowerCase(),m=e.attributes||[],h=0;h<m.length;h++)d+=" "+m[h].name+"="+ce(se(m[h].value),"double",o);return d+=">",e.childNodes&&e.childNodes.length&&(d+="..."),d+"</"+String(e.nodeName).toLowerCase()+">"}if(ue(e)){if(0===e.length)return"[]";var b=je(e,l);return u&&!function(t){for(var e=0;e<t.length;e++)if(de(t[e],"\n")>=0)return!1;return!0}(b)?"["+we(b,u)+"]":"[ "+b.join(", ")+" ]"}if(function(t){return!("[object Error]"!==ye(t)||oe&&"object"==typeof t&&oe in t)}(e)){var v=je(e,l);return 0===v.length?"["+String(e)+"]":"{ ["+String(e)+"] "+v.join(", ")+" }"}if("object"==typeof e&&a){if(re&&"function"==typeof e[re])return e[re]();if("symbol"!==a&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!Nt||!t||"object"!=typeof t)return!1;try{Nt.call(t);try{zt.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var g=[];return Wt.call(e,(function(t,n){g.push(l(n,e,!0)+" => "+l(t,e))})),ge("Map",Nt.call(e),g,u)}if(function(t){if(!zt||!t||"object"!=typeof t)return!1;try{zt.call(t);try{Nt.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var w=[];return Lt.call(e,(function(t){w.push(l(t,e))})),ge("Set",zt.call(e),w,u)}if(function(t){if(!Gt||!t||"object"!=typeof t)return!1;try{Gt.call(t,Gt);try{Ht.call(t,Ht)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return ve("WeakMap");if(function(t){if(!Ht||!t||"object"!=typeof t)return!1;try{Ht.call(t,Ht);try{Gt.call(t,Gt)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return ve("WeakSet");if(function(t){if(!qt||!t||"object"!=typeof t)return!1;try{return qt.call(t),!0}catch(t){}return!1}(e))return ve("WeakRef");if(function(t){return!("[object Number]"!==ye(t)||oe&&"object"==typeof t&&oe in t)}(e))return be(l(Number(e)));if(function(t){if(!t||"object"!=typeof t||!Yt)return!1;try{return Yt.call(t),!0}catch(t){}return!1}(e))return be(l(Yt.call(e)));if(function(t){return!("[object Boolean]"!==ye(t)||oe&&"object"==typeof t&&oe in t)}(e))return be(Vt.call(e));if(function(t){return!("[object String]"!==ye(t)||oe&&"object"==typeof t&&oe in t)}(e))return be(l(String(e)));if(!function(t){return!("[object Date]"!==ye(t)||oe&&"object"==typeof t&&oe in t)}(e)&&!function(t){return!("[object RegExp]"!==ye(t)||oe&&"object"==typeof t&&oe in t)}(e)){var j=je(e,l),S=ne?ne(e)===Object.prototype:e instanceof Object||e.constructor===Object,A=e instanceof Object?"":"null prototype",x=!S&&oe&&Object(e)===e&&oe in e?ye(e).slice(8,-1):A?"Object":"",O=(S||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(x||A?"["+[].concat(x||[],A||[]).join(": ")+"] ":"");return 0===j.length?O+"{}":u?O+"{"+we(j,u)+"}":O+"{ "+j.join(", ")+" }"}return String(e)};function ce(t,e,n){var i="double"===(n.quoteStyle||e)?'"':"'";return i+t+i}function se(t){return String(t).replace(/"/g,"&quot;")}function ue(t){return!("[object Array]"!==ye(t)||oe&&"object"==typeof t&&oe in t)}function le(t){if(te)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!Qt)return!1;try{return Qt.call(t),!0}catch(t){}return!1}var fe=Object.prototype.hasOwnProperty||function(t){return t in this};function pe(t,e){return fe.call(t,e)}function ye(t){return Jt.call(t)}function de(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}function me(t,e){if(t.length>e.maxStringLength){var n=t.length-e.maxStringLength,i="... "+n+" more character"+(n>1?"s":"");return me(t.slice(0,e.maxStringLength),e)+i}return ce(t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,he),"single",e)}function he(t){var e=t.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return n?"\\"+n:"\\x"+(e<16?"0":"")+e.toString(16).toUpperCase()}function be(t){return"Object("+t+")"}function ve(t){return t+" { ? }"}function ge(t,e,n,i){return t+" ("+e+") {"+(i?we(n,i):n.join(", "))+"}"}function we(t,e){if(0===t.length)return"";var n="\n"+e.prev+e.base;return n+t.join(","+n)+"\n"+e.prev}function je(t,e){var n=ue(t),i=[];if(n){i.length=t.length;for(var r=0;r<t.length;r++)i[r]=pe(t,r)?e(t[r],t):""}var o,a="function"==typeof Zt?Zt(t):[];if(te){o={};for(var c=0;c<a.length;c++)o["$"+a[c]]=a[c]}for(var s in t)pe(t,s)&&(n&&String(Number(s))===s&&s<t.length||te&&o["$"+s]instanceof Symbol||(/[^\w$]/.test(s)?i.push(e(s,t)+": "+e(t[s],t)):i.push(s+": "+e(t[s],t))));if("function"==typeof Zt)for(var u=0;u<a.length;u++)ee.call(t,a[u])&&i.push("["+e(a[u])+"]: "+e(t[a[u]],t));return i}var Se,Ae,xe=function(t){return"string"==typeof t||"symbol"==typeof t},Oe=function(t){return"symbol"==typeof t?"Symbol":"bigint"==typeof t?"BigInt":function(t){return null===t?"Null":void 0===t?"Undefined":"function"==typeof t||"object"==typeof t?"Object":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"string"==typeof t?"String":void 0}(t)},Ee=At("%TypeError%"),Pe=function(t,e){if("Object"!==Oe(t))throw new Ee("Assertion failed: Type(O) is not Object");if(!xe(e))throw new Ee("Assertion failed: IsPropertyKey(P) is not true, got "+ae(e));return t[e]},Ie=At("%TypeError%"),ke=function(t,e){if("Object"!==Oe(t))throw new Ie("Assertion failed: `O` must be an Object");if(!xe(e))throw new Ie("Assertion failed: `P` must be a Property Key");return e in t},Fe=Function.prototype.toString,$e="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof $e&&"function"==typeof Object.defineProperty)try{Se=Object.defineProperty({},"length",{get:function(){throw Ae}}),Ae={},$e((function(){throw 42}),null,Se)}catch(t){t!==Ae&&($e=null)}else $e=null;var Re=/^\s*class\b/,_e=function(t){try{var e=Fe.call(t);return Re.test(e)}catch(t){return!1}},Ue=Object.prototype.toString,De="function"==typeof Symbol&&!!Symbol.toStringTag,Me="object"==typeof document&&void 0===document.all&&void 0!==document.all?document.all:{},Te=$e?function(t){if(t===Me)return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;try{$e(t,null,Se)}catch(t){if(t!==Ae)return!1}return!_e(t)}:function(t){if(t===Me)return!0;if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(De)return function(t){try{return!_e(t)&&(Fe.call(t),!0)}catch(t){return!1}}(t);if(_e(t))return!1;var e=Ue.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e},Ne=Te,We=At("%Math%"),Be=At("%Number%").MAX_SAFE_INTEGER||We.pow(2,53)-1,Ce=At("%Math.abs%"),ze=Math.floor,Le=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t},Ge=Object.prototype.toString,He=function(t){var e;if((e=arguments.length>1?arguments[1]:"[object Date]"===Ge.call(t)?String:Number)===String||e===Number){var n,i,r=e===String?["toString","valueOf"]:["valueOf","toString"];for(i=0;i<r.length;++i)if(Te(t[r[i]])&&(n=t[r[i]](),Le(n)))return n;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")},qe=Number.isNaN||function(t){return t!=t},Ve=Number.isNaN||function(t){return t!=t},Je=Number.isFinite||function(t){return"number"==typeof t&&!Ve(t)&&t!==1/0&&t!==-1/0},Ke=function(t){var e,n=function(t){var e=function(t){return Le(t)?t:arguments.length>1?He(t,arguments[1]):He(t)}(t,Number);if("string"!=typeof e)return+e;var n=e.replace(/^[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+|[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+$/g,"");return/^0[ob]|^[+-]0x/.test(n)?NaN:+n}(t);return qe(n)?0:0!==n&&Je(n)?function(t){return t>=0?1:-1}(n)*(e=Ce(n),ze(e)):n},Xe=At("RegExp.prototype.test"),Ye=function(t){return xt(Xe,t)},Ze=function(){return Y()&&!!Symbol.toStringTag},Qe=Date.prototype.getDay,tn=Object.prototype.toString,en=Ze(),nn=function(t){return"object"==typeof t&&null!==t&&(en?function(t){try{return Qe.call(t),!0}catch(t){return!1}}(t):"[object Date]"===tn.call(t))},rn=f((function(t){var e=Object.prototype.toString;if(Q()){var n=Symbol.prototype.toString,i=/^Symbol\(.*\)$/;t.exports=function(t){if("symbol"==typeof t)return!0;if("[object Symbol]"!==e.call(t))return!1;try{return function(t){return"symbol"==typeof t.valueOf()&&i.test(n.call(t))}(t)}catch(t){return!1}}}else t.exports=function(){return!1}})),on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator,an=function(t,e){if(null==t)throw new TypeError("Cannot call method on "+t);if("string"!=typeof e||"number"!==e&&"string"!==e)throw new TypeError('hint must be "string" or "number"');var n,i,r,o="string"===e?["toString","valueOf"]:["valueOf","toString"];for(r=0;r<o.length;++r)if(Te(n=t[o[r]])&&(i=n.call(t),Le(i)))return i;throw new TypeError("No default value")},cn=function(t,e){var n=t[e];if(null!=n){if(!Te(n))throw new TypeError(n+" returned for property "+e+" of object "+t+" is not a function");return n}},sn=function(t){if(Le(t))return t;var e,n="default";if(arguments.length>1&&(arguments[1]===String?n="string":arguments[1]===Number&&(n="number")),on&&(Symbol.toPrimitive?e=cn(t,Symbol.toPrimitive):rn(t)&&(e=Symbol.prototype.valueOf)),void 0!==e){var i=e.call(t,n);if(Le(i))return i;throw new TypeError("unable to convert exotic object to primitive")}return"default"===n&&(nn(t)||rn(t))&&(n="string"),an(t,"default"===n?"number":n)},un=At("%TypeError%"),ln=At("%Number%"),fn=At("%RegExp%"),pn=At("%parseInt%"),yn=Et("String.prototype.slice"),dn=Ye(/^0b[01]+$/i),mn=Ye(/^0o[0-7]+$/i),hn=Ye(/^[-+]0x[0-9a-f]+$/i),bn=Ye(new fn("["+["","​","￾"].join("")+"]","g")),vn=["\t\n\v\f\r   ᠎    ","         　\u2028","\u2029\ufeff"].join(""),gn=new RegExp("(^["+vn+"]+)|(["+vn+"]+$)","g"),wn=Et("String.prototype.replace"),jn=function t(e){var n=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t}(e)?e:function(t){return arguments.length>1?sn(t,arguments[1]):sn(t)}(e,ln);if("symbol"==typeof n)throw new un("Cannot convert a Symbol value to a number");if("bigint"==typeof n)throw new un("Conversion from 'BigInt' to 'number' is not allowed.");if("string"==typeof n){if(dn(n))return t(pn(yn(n,2),2));if(mn(n))return t(pn(yn(n,2),8));if(bn(n)||hn(n))return NaN;var i=function(t){return wn(t,gn,"")}(n);if(i!==n)return t(i)}return ln(n)},Sn=function(t){var e,n=(0!==(e=jn(t))&&(e=Ke(e)),0===e?0:e);return n<=0?0:n>Be?Be:n},An=At("%TypeError%"),xn=function(t){if("Object"!==Oe(t))throw new An("Assertion failed: `obj` must be an Object");return Sn(Pe(t,"length"))},On=At("%Object%"),En=function(t){return It(t),On(t)},Pn=At("%String%"),In=At("%TypeError%"),kn=function(t){if("symbol"==typeof t)throw new In("Cannot convert a Symbol value to a string");return Pn(t)},Fn=String.prototype.valueOf,$n=Object.prototype.toString,Rn=Ze(),_n=function(t){return"string"==typeof t||"object"==typeof t&&(Rn?function(t){try{return Fn.call(t),!0}catch(t){return!1}}(t):"[object String]"===$n.call(t))},Un=At("%TypeError%"),Dn=Et("String.prototype.split"),Mn=Object("a"),Tn="a"!==Mn[0]||!(0 in Mn),Nn=function(t){var e,n=En(this),i=Tn&&_n(this)?Dn(this,""):n,r=xn(i);if(!Ne(t))throw new Un("Array.prototype.forEach callback must be a function");arguments.length>1&&(e=arguments[1]);for(var o=0;o<r;){var a=kn(o),c=ke(i,a);if(c){var s=Pe(i,a);Ut(t,e,[s,o,i])}o+=1}},Wn=function(){var t=Array.prototype.forEach;return function(t){var e=!0,n=!0,i=!1;if("function"==typeof t){try{t.call("f",(function(t,n,i){"object"!=typeof i&&(e=!1)})),t.call([null],(function(){n="string"==typeof this}),"x")}catch(t){i=!0}return!i&&e&&n}return!1}(t)?t:Nn},Bn=Wn(),Cn=Et("Array.prototype.slice"),zn=xt.apply(Bn),Ln=function(t){return It(t),zn(t,Cn(arguments,1))};q(Ln,{getPolyfill:Wn,implementation:Nn,shim:function(){var t=Wn();return q(Array.prototype,{forEach:t},{forEach:function(){return Array.prototype.forEach!==t}}),t}});var Gn=Ln,Hn=Et("Object.prototype.propertyIsEnumerable"),qn=Et("Array.prototype.push"),Vn=function(t){var e=It(t),n=[];for(var i in e)Hn(e,i)&&qn(n,[i,e[i]]);return n},Jn=function(){return"function"==typeof Object.entries?Object.entries:Vn},Kn=xt(Jn(),Object);q(Kn,{getPolyfill:Jn,implementation:Vn,shim:function(){var t=Jn();return q(Object,{entries:t},{entries:function(){return Object.entries!==t}}),t}});var Xn=Kn,Yn=Et("String.prototype.replace"),Zn=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,Qn=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,ti=function(){var t=kn(It(this));return Yn(Yn(t,Zn,""),Qn,"")},ei=function(){return String.prototype.trim&&"​"==="​".trim()?String.prototype.trim:ti},ni=xt(ei());q(ni,{getPolyfill:ei,implementation:ti,shim:function(){var t=ei();return q(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}});var ii=ni,ri=function(){},oi=String.prototype.replace,ai=String.prototype.split,ci=function(t){var e=t%100,n=e%10;return 11!==e&&1===n?0:2<=n&&n<=4&&!(e>=12&&e<=14)?1:2},si={pluralTypes:{arabic:function(t){if(t<3)return t;var e=t%100;return e>=3&&e<=10?3:e>=11?4:5},bosnian_serbian:ci,chinese:function(){return 0},croatian:ci,french:function(t){return t>=2?1:0},german:function(t){return 1!==t?1:0},russian:ci,lithuanian:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=9&&(t%100<11||t%100>19)?1:2},czech:function(t){return 1===t?0:t>=2&&t<=4?1:2},polish:function(t){if(1===t)return 0;var e=t%10;return 2<=e&&e<=4&&(t%100<10||t%100>=20)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0},slovenian:function(t){var e=t%100;return 1===e?0:2===e?1:3===e||4===e?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}};function ui(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var li,fi=(li={},function(t,e){var n=li[e];return n&&!t.pluralTypes[n]&&(li[e]=n=null),n||(n=function(t,e){var n,i=(n={},Gn(Xn(t.pluralTypeToLanguages),(function(t){var e=t[0];Gn(t[1],(function(t){n[t]=e}))})),n);return i[e]||i[ai.call(e,/-/,1)[0]]||i.en}(t,e))&&(li[e]=n),n}),pi=/%\{(.*?)\}/g;function yi(t,e,n,i,r){if("string"!=typeof t)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(null==e)return t;var o=t,a=i||pi,c="number"==typeof e?{smart_count:e}:e;if(null!=c.smart_count&&t){var s=r||si,u=ai.call(t,"||||"),l=function(t,e,n){return t.pluralTypes[e](n)}(s,fi(s,n||"en"),c.smart_count);o=ii(u[l]||u[0])}return oi.call(o,a,(function(t,e){return tt(c,e)&&null!=c[e]?c[e]:t}))}function di(t){var e=t||{};this.phrases={},this.extend(e.phrases||{}),this.currentLocale=e.locale||"en",this.onMissingKey="function"==typeof e.onMissingKey?e.onMissingKey:e.allowMissing?yi:null,this.warn=e.warn||ri,this.tokenRegex=function(t){var e=t&&t.prefix||"%{",n=t&&t.suffix||"}";if("||||"===e||"||||"===n)throw new RangeError('"||||" token is reserved for pluralization');return new RegExp(ui(e)+"(.*?)"+ui(n),"g")}(e.interpolation),this.pluralRules=e.pluralRules||si}di.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},di.prototype.extend=function(t,e){Gn(Xn(t||{}),(function(t){var n=t[0],i=t[1],r=e?e+"."+n:n;"object"==typeof i?this.extend(i,r):this.phrases[r]=i}),this)},di.prototype.unset=function(t,e){"string"==typeof t?delete this.phrases[t]:Gn(Xn(t||{}),(function(t){var n=t[0],i=t[1],r=e?e+"."+n:n;"object"==typeof i?this.unset(i,r):delete this.phrases[r]}),this)},di.prototype.clear=function(){this.phrases={}},di.prototype.replace=function(t){this.clear(),this.extend(t)},di.prototype.t=function(t,e){var n,i,r=null==e?{}:e;return"string"==typeof this.phrases[t]?n=this.phrases[t]:"string"==typeof r._?n=r._:this.onMissingKey?i=(0,this.onMissingKey)(t,r,this.currentLocale,this.tokenRegex,this.pluralRules):(this.warn('Missing translation for key: "'+t+'"'),i=t),"string"==typeof n&&(i=yi(n,r,this.currentLocale,this.tokenRegex,this.pluralRules)),i},di.prototype.has=function(t){return tt(this.phrases,t)},di.transformPhrase=function(t,e,n){return yi(t,e,n)};var mi=di;function hi(t,e,n){return new Promise(((i,r)=>{fetch(`${n}/${t}.i18n.${e}.json`).then((t=>{t.ok?i(t.json()):r()}),(()=>r()))}))}let bi=class{constructor(n){t(this,n),this.resourceUpdated=e(this,"resourceUpdated",7),this.spec="arcgis",this.elementTitle="",this.description="",this.locale="en",this.inputs=[],this.resource=null,this.translator="arcgis"}async componentWillLoad(){this.sectionSchema=await this.loadSpecification(),this.locale=this.locale||function(t){let e=t.closest("[lang]");return e?e.lang:"en"}(this.element),this.elementTitle=this.sectionSchema.title,this.description=this.sectionSchema.description,this.inputs=this.sectionSchema.properties,async function(t,e){return await async function(t,e,n){let i=new mi({locale:e}),r={};try{r[t]=await hi(t,e,n)}catch(i){console.warn(`no locale for ${t} (${e}) loading default locale en.`),r[t]=await hi(t,"en",n)}return console.log("getLocaleComponent",r),i.extend(r),i}(t,e,"./schema/locale")}(this.spec,this.locale).then((t=>{this.strings=t,this.elementTitle=this.strings.t(`${this.spec}.metadata.${this.spec}.title`),this.description=this.strings.t(`${this.spec}.metadata.${this.spec}.description`)}))}async loadSpecification(){const t=`./schema/${this.spec}.json`;return await async function(t){try{const e=await fetch(t),n=await e.json();return console.log("getMetadataSpec: sections",n),n}catch(t){if(t)return t.message}}(t)}getMetadataValue(t){let e="";return console.log("metadata-section-view: metadataValue",t,this.resource),this.resource&&(console.log("metadata-section-view: metadataValue - translation",t,t.split(".")),e=this.inputs[t].translation[this.translator]?this.inputs[t].translation[this.translator][0].split(".").reduce(((t,e)=>t[e]),this.resource):this.resource[t]),console.log("metadata-section-view: metadataValue",t,e,this.resource),e}setMetadataValue(t,e){return console.log("setMetadataValue input",t),Object.keys(e).map((n=>{y(t,n.split("."),e[n])})),console.log("setMetadataValue output",t),t}elementUpdatedHandler(t){console.log("trace metadata-section-view: elementUpdatedHandler",t.detail,this.resource),this.resource=this.setMetadataValue(this.resource,t.detail),console.log("trace metadata-section-view: elementUpdatedHandler",t.detail,this.resource),this.resourceUpdated.emit(this.resource)}render(){return console.log("metadata-section-view: inputs",[this.elementTitle,this.inputs]),n(r,null,n("slot",null),n("section",{class:"metadata-section"},n("metadata-section-help",{elementTitle:this.elementTitle,description:this.description}),n("div",{class:"metadata-section-input"},Object.keys(this.inputs).map((t=>n("metadata-element-view",{elementTitle:t,schema:this.inputs[t],type:this.inputs[t].type,subtype:this.inputs[t].subtype||null,description:this.inputs[t].description,value:this.getMetadataValue(this.inputs[t]),required:!0}))))))}get element(){return i(this)}};bi.style=':host{display:block;border-top:1px solid #444}.metadata-section{padding-bottom:10px;display:grid;grid-gap:1em;grid-template-columns:20% auto;grid-template-areas:"metadata-section-help metadata-section-input"}';export{d as calcite_accordion,m as calcite_accordion_item,b as calcite_input_message,v as metadata_element_view,g as metadata_form,w as metadata_section_help,bi as metadata_section_view}