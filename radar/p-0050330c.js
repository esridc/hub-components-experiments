import{U as t}from"./p-82285f77.js";const e=(t,n,r)=>{if(1===n.length)t[n[0]]=r;else if(0!==n.length)return t[n[0]]||(t[n[0]]={}),e(t[n[0]],n.slice(1),r)},n=()=>{const t=document.cookie.match("(^|[^;]+)\\s*arcgis_hub_component_auth\\s*=\\s*([^;]+)");return t?t.pop():void 0},r=t=>{let e=new Date;e.setTime(e.getTime()+12096e5),document.cookie=`arcgis_hub_component_auth=${t.serialize()} ; expires=${e.toUTCString()} path=/`},o=()=>{document.cookie="arcgis_hub_component_auth= ; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/"};function s(t,e){return null==t?"":t.length>e?t.substring(0,e-"...".length)+"...":t}const a=(e,o)=>{console.log("authenticateUser",{clientId:e,portal:`${o}/sharing/rest`,redirectUri:`${window.location.origin}/authenticate.html`});let s=n();return new Promise((n=>{if(!s){let a=window.location.pathname,i=a.substring(0,a.lastIndexOf("/"))+"/";return t.beginOAuth2({clientId:e,portal:`${o}/sharing/rest`,redirectUri:`${window.location.origin}${i}authenticate.html`,popup:!0}).then((t=>{r(t),s=t.serialize(),n(s)})).catch((t=>{console.error("Hub Components auth error",t)}))}n(s)}))};export{a,o as d,n as r,e as s,s as t,r as w}