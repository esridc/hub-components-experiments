import{r as t,h as a,g as i}from"./p-d703c309.js";import{g as n}from"./p-0b4cf4f0.js";
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 */function e(t,a,i){const n=a[0]-t[0];return n?(3*(a[1]-t[1])/n-i)/2:i}function s(t,a,i,n,e){const[s,r]=t,[o,h]=a,l=(o-s)/3;return`C ${e([s+l,r+l*i]).join(",")} ${e([o-l,h-l*n]).join(",")} ${e([o,h]).join(",")}`}let r=class{constructor(a){t(this,a),this.data=[],this.width=300,this.height=100,this.graphId=`calcite-graph-${n()}`}render(){const{data:t,colorStops:i,width:n,height:r,highlightMax:o,highlightMin:h,min:l,max:c}=this,m=this.graphId;if(!t||0===t.length)return a("svg",{class:"svg",height:r,preserveAspectRatio:"none",viewBox:`0 0 ${n} ${r}`,width:n});const{min:p,max:d}=function(t){const[a,i]=t[0];return t.reduce((({min:t,max:a},[i,n])=>({min:[Math.min(t[0],i),Math.min(t[1],n)],max:[Math.max(a[0],i),Math.max(a[1],n)]})),{min:[a,i],max:[a,i]})}(t);let $=p,g=d;(l<p[0]||l>p[0])&&($=[l,0]),(c>d[0]||c<d[0])&&(g=[c,d[1]]);const f=function({width:t,height:a,min:i,max:n}){const e=n[0]-i[0],s=n[1]-i[1];return n=>[(n[0]-i[0])/e*t,a-n[1]/s*a]}({min:$,max:g,width:n,height:r}),[u]=f([h,g[1]]),[y]=f([o,g[1]]),x=function({data:t,min:a,max:i,t:n}){if(0===t.length)return"";const[r,o]=n(t[0]),[h,l]=n(a),[c]=n(i);let m,p,d;const $=t.reduce(((a,i,r)=>{if(p=t[r-2],d=t[r-1],r>1){const t=function(t,a,i){const n=a[0]-t[0],e=i[0]-a[0],s=(a[1]-t[1])/(n||e<0&&0),r=(i[1]-a[1])/(e||n<0&&0),o=(s*e+r*n)/(n+e);return(Math.sign(s)+Math.sign(r))*Math.min(Math.abs(s),Math.abs(r),.5*Math.abs(o))||0}(p,d,i),r=void 0===m?e(p,d,t):m,o=s(p,d,r,t,n);return m=t,`${a} ${o}`}return a}),`M ${h},${l} L ${h},${o} L ${r},${o}`),g=t[t.length-1];return`${$} ${s(d,g,m,e(d,g,m),n)} L ${c},${l} Z`}({data:t,min:p,max:d,t:f}),w=i?`url(#linear-gradient-${m})`:void 0;return a("svg",{class:"svg",height:r,preserveAspectRatio:"none",viewBox:`0 0 ${n} ${r}`,width:n},i?a("defs",null,a("linearGradient",{id:`linear-gradient-${m}`,x1:"0",x2:"1",y1:"0",y2:"0"},i.map((({offset:t,color:i,opacity:n})=>a("stop",{offset:100*t+"%","stop-color":i,"stop-opacity":n}))))):null,void 0!==h?[a("mask",{height:"100%",id:`${m}1`,width:"100%",x:"0%",y:"0%"},a("path",{d:`\n            M 0,0\n            L ${u-1},0\n            L ${u-1},${r}\n            L 0,${r}\n            Z\n          `,fill:"white"})),a("mask",{height:"100%",id:`${m}2`,width:"100%",x:"0%",y:"0%"},a("path",{d:`\n            M ${u+1},0\n            L ${y-1},0\n            L ${y-1},${r}\n            L ${u+1}, ${r}\n            Z\n          `,fill:"white"})),a("mask",{height:"100%",id:`${m}3`,width:"100%",x:"0%",y:"0%"},a("path",{d:`\n                M ${y+1},0\n                L ${n},0\n                L ${n},${r}\n                L ${y+1}, ${r}\n                Z\n              `,fill:"white"})),a("path",{class:"graph-path",d:x,fill:w,mask:`url(#${m}1)`}),a("path",{class:"graph-path--highlight",d:x,fill:w,mask:`url(#${m}2)`}),a("path",{class:"graph-path",d:x,fill:w,mask:`url(#${m}3)`})]:a("path",{class:"graph-path",d:x,fill:w}))}get el(){return i(this)}};r.style="@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:300ms}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}:root{--calcite-popper-transition:150ms ease-in-out}:host([hidden]){display:none}:host{display:block}.svg{fill:currentColor;stroke:transparent;margin:0;padding:0;display:block}:host([data-style=slider-histogram]) svg{width:100%}:host([data-style=slider-histogram]) svg .graph-path--highlight{fill:var(--calcite-ui-brand);opacity:0.5}";export{r as calcite_graph}