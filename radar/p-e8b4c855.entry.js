import{r as t,c as i,h as s,H as e,g as a}from"./p-d703c309.js";import{n as o,g as n,i as r}from"./p-927ebebc.js";import{i as h}from"./p-dd143ab9.js";import{b as c,a as l,g as u,m as p}from"./p-4f8df5cf.js";
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 */let m=class{constructor(s){t(this,s),this.calciteTimePickerBlur=i(this,"calciteTimePickerBlur",7),this.calciteTimePickerChange=i(this,"calciteTimePickerChange",7),this.calciteTimePickerFocus=i(this,"calciteTimePickerFocus",7),this.hour=null,this.hourDisplayFormat="12",this.intlHour="Hour",this.intlHourDown="Decrease hour",this.intlHourUp="Increase hour",this.intlMeridiem="AM/PM",this.intlMeridiemDown="Decrease AM/PM",this.intlMeridiemUp="Increase AM/PM",this.intlMinute="Minute",this.intlMinuteDown="Decrease minute",this.intlMinuteUp="Increase minute",this.intlSecond="Second",this.intlSecondDown="Decrease second",this.intlSecondUp="Increase second",this.minute=null,this.second=null,this.scale="m",this.step=60,this.timeChanged=!1,this.meridiem=null,this.displayHour=this.getDisplayHour(),this.decrementHour=()=>{const t=this.hour?"00"===this.hour?23:parseInt(this.hour)-1:0;this.setTime("hour",t)},this.decrementMeridiem=()=>{this.setTime("meridiem","PM"===this.meridiem?"AM":"PM")},this.decrementMinuteOrSecond=t=>{let i;if(h(this[t])){const s=parseInt(this[t]);i=0===s?59:s-1}else i=59;this.setTime(t,i)},this.decrementMinute=()=>{this.decrementMinuteOrSecond("minute")},this.decrementSecond=()=>{this.decrementMinuteOrSecond("second")},this.focusHandler=t=>{this.activeEl=t.currentTarget},this.hourDownButtonKeyDownHandler=t=>{this.buttonActivated(t)&&this.decrementHour()},this.hourKeyDownHandler=t=>{const i=n(t.key);if(o.includes(i)){const t=parseInt(i);let s;if(h(this.hour))switch(this.hourDisplayFormat){case"12":s="01"===this.hour&&t>=0&&t<=2?`1${t}`:t;break;case"24":s="01"===this.hour?`1${t}`:"02"===this.hour&&t>=0&&t<=3?`2${t}`:t}else s=t;this.setTime("hour",s)}else switch(i){case"Backspace":case"Delete":this.setTime("hour",null);break;case"ArrowDown":t.preventDefault(),this.decrementHour();break;case"ArrowUp":t.preventDefault(),this.incrementHour();break;case" ":case"Spacebar":t.preventDefault()}},this.hourUpButtonKeyDownHandler=t=>{this.buttonActivated(t)&&this.incrementHour()},this.incrementMeridiem=()=>{this.setTime("meridiem","AM"===this.meridiem?"PM":"AM")},this.incrementHour=()=>{const t=h(this.hour)?"23"===this.hour?0:parseInt(this.hour)+1:1;this.setTime("hour",t)},this.incrementMinuteOrSecond=t=>{const i=h(this[t])?"59"===this[t]?0:parseInt(this[t])+1:0;this.setTime(t,i)},this.incrementMinute=()=>{this.incrementMinuteOrSecond("minute")},this.incrementSecond=()=>{this.incrementMinuteOrSecond("second")},this.meridiemDownButtonKeyDownHandler=t=>{this.buttonActivated(t)&&this.decrementMeridiem()},this.meridiemKeyDownHandler=t=>{switch(n(t.key)){case"a":this.setTime("meridiem","AM");break;case"p":this.setTime("meridiem","PM");break;case"Backspace":case"Delete":this.setTime("meridiem",null);break;case"ArrowUp":t.preventDefault(),this.incrementMeridiem();break;case"ArrowDown":t.preventDefault(),this.decrementMeridiem();break;case" ":case"Spacebar":t.preventDefault()}},this.meridiemUpButtonKeyDownHandler=t=>{this.buttonActivated(t)&&this.incrementMeridiem()},this.minuteDownButtonKeyDownHandler=t=>{this.buttonActivated(t)&&this.decrementMinute()},this.minuteKeyDownHandler=t=>{const i=n(t.key);if(o.includes(i)){const t=parseInt(i);let s;if(h(this.minute)&&this.minute.startsWith("0")){const i=parseInt(this.minute);s=i>p?t:`${i}${t}`}else s=t;this.setTime("minute",s)}else switch(i){case"Backspace":case"Delete":this.setTime("minute",null);break;case"ArrowDown":t.preventDefault(),this.decrementMinute();break;case"ArrowUp":t.preventDefault(),this.incrementMinute();break;case" ":case"Spacebar":t.preventDefault()}},this.minuteUpButtonKeyDownHandler=t=>{this.buttonActivated(t)&&this.incrementMinute()},this.secondDownButtonKeyDownHandler=t=>{this.buttonActivated(t)&&this.decrementSecond()},this.secondKeyDownHandler=t=>{const i=n(t.key);if(o.includes(i)){const t=parseInt(i);let s;if(h(this.second)&&this.second.startsWith("0")){const i=parseInt(this.second);s=i>p?t:`${i}${t}`}else s=t;this.setTime("second",s)}else switch(i){case"Backspace":case"Delete":this.setTime("second",null);break;case"ArrowDown":t.preventDefault(),this.decrementSecond();break;case"ArrowUp":t.preventDefault(),this.incrementSecond();break;case" ":case"Spacebar":t.preventDefault()}},this.secondUpButtonKeyDownHandler=t=>{this.buttonActivated(t)&&this.incrementSecond()},this.setTime=(t,i,s=!0)=>{switch(t){default:return;case"hour":this.hour="number"==typeof i?c(i):i;break;case"minute":this.minute="number"==typeof i?c(i):i;break;case"second":this.second="number"==typeof i?c(i):i;break;case"meridiem":if(h(this.hour)){const t=parseInt(this.hour);switch(i){case"AM":t>=12&&(this.hour=c(t-12));break;case"PM":t<12&&(this.hour=c(t+12))}this.meridiem=i}else this.meridiem=i}this.timeChanged=!0,s&&this.calciteTimePickerChange.emit(this.getTime())}}hourChanged(t){"12"===this.hourDisplayFormat&&h(t)&&(this.meridiem=l(t))}timeChangeHandler(){const{hour:t,minute:i}=this.getTime();t||i||this.setTime("meridiem",null,!1),this.timeChanged&&(this.timeChanged=!1)}hostBlurHandler(){this.calciteTimePickerBlur.emit()}hostFocusHandler(){this.calciteTimePickerFocus.emit()}keyDownHandler(t){const i=n(t.key);switch(this.activeEl){case this.hourEl:"ArrowRight"===i&&this.setFocus("minute");break;case this.minuteEl:switch(i){case"ArrowLeft":this.setFocus("hour");break;case"ArrowRight":60!==this.step?this.setFocus("second"):"12"===this.hourDisplayFormat&&this.setFocus("meridiem")}break;case this.secondEl:switch(i){case"ArrowLeft":this.setFocus("minute");break;case"ArrowRight":"12"===this.hourDisplayFormat&&this.setFocus("meridiem")}break;case this.meridiemEl:switch(i){case"ArrowLeft":this.setFocus(60!==this.step?"second":"minute")}}}async setFocus(t){var i;null===(i=this[`${t||"hour"}El`])||void 0===i||i.focus()}buttonActivated(t){const i=n(t.key);return" "===i&&t.preventDefault(),r(i)}getDisplayHour(){return this.hour?"12"===this.hourDisplayFormat?u(this.hour):this.hour:"--"}getTime(){return{hour:this.hour,minute:this.minute,second:this.second}}connectedCallback(){"12"===this.hourDisplayFormat&&(this.meridiem=l(this.hour)),h(this.hour)&&(this.hour=c(parseInt(this.hour))),h(this.minute)&&(this.minute=c(parseInt(this.minute))),h(this.second)&&(this.second=c(parseInt(this.second)))}render(){const t="s"===this.scale||"m"===this.scale?"s":"m",i=60!==this.step,a=h(this.hour),o=h(this.minute),n=h(this.second);return s(e,null,s("div",{class:"time-picker"},s("div",{role:"group"},s("span",{"aria-label":this.intlHourUp,class:{button:!0,"button--hour-up":!0,"button--top-left":!0},onClick:this.incrementHour,onKeyDown:this.hourUpButtonKeyDownHandler,role:"button",tabIndex:-1},s("calcite-icon",{icon:"chevron-up",scale:t})),s("span",{"aria-label":this.intlHour,"aria-valuemax":"23","aria-valuemin":"1","aria-valuenow":a&&parseInt(this.hour),"aria-valuetext":this.hour,class:{input:!0,hour:!0},onFocus:this.focusHandler,onKeyDown:this.hourKeyDownHandler,ref:t=>this.hourEl=t,role:"spinbutton",tabIndex:0},this.getDisplayHour()),s("span",{"aria-label":this.intlHourDown,class:{button:!0,"button--hour-down":!0,"button--bottom-left":!0},onClick:this.decrementHour,onKeyDown:this.hourDownButtonKeyDownHandler,role:"button",tabIndex:-1},s("calcite-icon",{icon:"chevron-down",scale:t}))),s("span",{class:"delimiter"},":"),s("div",{role:"group"},s("span",{"aria-label":this.intlMinuteUp,class:{button:!0,"button--minute-up":!0},onClick:this.incrementMinute,onKeyDown:this.minuteUpButtonKeyDownHandler,role:"button",tabIndex:-1},s("calcite-icon",{icon:"chevron-up",scale:t})),s("span",{"aria-label":this.intlMinute,"aria-valuemax":"12","aria-valuemin":"1","aria-valuenow":o&&parseInt(this.minute),"aria-valuetext":this.minute,class:{input:!0,minute:!0},onFocus:this.focusHandler,onKeyDown:this.minuteKeyDownHandler,ref:t=>this.minuteEl=t,role:"spinbutton",tabIndex:0},this.minute?this.minute:"--"),s("span",{"aria-label":this.intlMinuteDown,class:{button:!0,"button--minute-down":!0},onClick:this.decrementMinute,onKeyDown:this.minuteDownButtonKeyDownHandler,role:"button",tabIndex:-1},s("calcite-icon",{icon:"chevron-down",scale:t}))),i&&s("span",{class:"delimiter"},":"),i&&s("div",{role:"group"},s("span",{"aria-label":this.intlSecondUp,class:{button:!0,"button--second-up":!0},onClick:this.incrementSecond,onKeyDown:this.secondUpButtonKeyDownHandler,role:"button",tabIndex:-1},s("calcite-icon",{icon:"chevron-up",scale:t})),s("span",{"aria-label":this.intlSecond,"aria-valuemax":"59","aria-valuemin":"0","aria-valuenow":n&&parseInt(this.second),"aria-valuetext":this.second,class:{input:!0,second:!0},onFocus:this.focusHandler,onKeyDown:this.secondKeyDownHandler,ref:t=>this.secondEl=t,role:"spinbutton",tabIndex:0},this.second?this.second:"--"),s("span",{"aria-label":this.intlSecondDown,class:{button:!0,"button--second-down":!0},onClick:this.decrementSecond,onKeyDown:this.secondDownButtonKeyDownHandler,role:"button",tabIndex:-1},s("calcite-icon",{icon:"chevron-down",scale:t}))),"12"===this.hourDisplayFormat&&s("div",{role:"group"},s("span",{"aria-label":this.intlMeridiemUp,class:{button:!0,"button--meridiem-up":!0,"button--top-right":!0},onClick:this.incrementMeridiem,onKeyDown:this.meridiemUpButtonKeyDownHandler,role:"button",tabIndex:-1},s("calcite-icon",{icon:"chevron-up",scale:t})),s("span",{"aria-label":this.intlMeridiem,"aria-valuemax":"2","aria-valuemin":"1","aria-valuenow":"AM"===this.meridiem?"1":"PM"===this.meridiem?"2":void 0,"aria-valuetext":this.meridiem,class:{input:!0,meridiem:!0},onFocus:this.focusHandler,onKeyDown:this.meridiemKeyDownHandler,ref:t=>this.meridiemEl=t,role:"spinbutton",tabIndex:0},this.meridiem?this.meridiem:"--"),s("span",{"aria-label":this.intlMeridiemDown,class:{button:!0,"button--meridiem-down":!0,"button--bottom-right":!0},onClick:this.decrementMeridiem,onKeyDown:this.meridiemDownButtonKeyDownHandler,role:"button",tabIndex:-1},s("calcite-icon",{icon:"chevron-down",scale:t})))))}get el(){return a(this)}static get watchers(){return{hour:["hourChanged","timeChangeHandler"],minute:["timeChangeHandler"],second:["timeChangeHandler"]}}};m.style='@keyframes in{0%{opacity:0}100%{opacity:1}}@keyframes in-down{0%{opacity:0;transform:translate3D(0, -5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-up{0%{opacity:0;transform:translate3D(0, 5px, 0)}100%{opacity:1;transform:translate3D(0, 0, 0)}}@keyframes in-scale{0%{opacity:0;transform:scale3D(0.95, 0.95, 1)}100%{opacity:1;transform:scale3D(1, 1, 1)}}:root{--calcite-animation-timing:300ms}.calcite-animate{opacity:0;animation-fill-mode:both;animation-duration:var(--calcite-animation-timing)}.calcite-animate__in{animation-name:in}.calcite-animate__in-down{animation-name:in-down}.calcite-animate__in-up{animation-name:in-up}.calcite-animate__in-scale{animation-name:in-scale}:root{--calcite-popper-transition:150ms ease-in-out}:host([hidden]){display:none}:host{color:var(--calcite-ui-text-1);display:inline-block;font-weight:var(--calcite-font-weight-medium);-webkit-user-select:none;user-select:none}.time-picker{box-shadow:0 6px 20px -4px rgba(0, 0, 0, 0.1), 0 4px 12px -2px rgba(0, 0, 0, 0.08);align-items:center;display:flex;border-radius:var(--calcite-border-radius)}span{align-items:center;background-color:var(--calcite-ui-foreground-1);display:inline-flex;justify-content:center}span.button{cursor:pointer}span.button:hover,span.button:focus{background-color:var(--calcite-ui-foreground-2)}span.button:focus{outline:2px solid transparent;outline-offset:2px}span.button:active{background-color:var(--calcite-ui-foreground-3)}span.button.top-left{border-top-left-radius:var(--calcite-border-radius)}span.button.bottom-left{border-bottom-left-radius:var(--calcite-border-radius)}span.button.top-right{border-top-right-radius:var(--calcite-border-radius)}span.button.bottom-right{border-bottom-right-radius:var(--calcite-border-radius)}span.button calcite-icon{color:var(--calcite-ui-text-3)}span.input{font-weight:var(--calcite-font-weight-medium);position:relative}span.input:hover{box-shadow:inset 0 0 0 2px var(--calcite-ui-foreground-2)}span.input:focus,span.input:hover:focus{outline:2px solid transparent;outline-offset:2px;box-shadow:inset 0 0 0 2px var(--calcite-ui-brand)}:host([scale=s]){font-size:var(--calcite-font-size--1)}:host([scale=s]) span{height:24px;width:40px}:host([scale=s]) .delimiter{height:72px}:host([scale=s][hour-display-format="12"]) .time-picker{width:124.2px}:host([scale=s][hour-display-format="12"]:not([step="60"])) .time-picker{width:168px}:host([scale=s][hour-display-format="24"]) .time-picker{width:84.2px}:host([scale=s][hour-display-format="24"]:not([step="60"])) .time-picker{width:128.4px}:host([scale=m]){font-size:var(--calcite-font-size-0)}:host([scale=m]) span{height:32px;width:44px}:host([scale=m]) .delimiter{height:96px}:host([scale=m][hour-display-format="12"]) .time-picker{width:136.8px}:host([scale=m][hour-display-format="12"]:not([step="60"])) .time-picker{width:186px}:host([scale=m][hour-display-format="24"]) .time-picker{width:92.8px}:host([scale=m][hour-display-format="24"]:not([step="60"])) .time-picker{width:141.6px}:host([scale=l]){font-size:var(--calcite-font-size-1)}:host([scale=l]) span{height:48px;width:64px}:host([scale=l]) .delimiter{height:144px}:host([scale=l][hour-display-format="12"]) .time-picker{width:198px}:host([scale=l][hour-display-format="12"]:not([step="60"])) .time-picker{width:268px}:host([scale=l][hour-display-format="24"]) .time-picker{width:134px}:host([scale=l][hour-display-format="24"]:not([step="60"])) .time-picker{width:204px}';export{m as calcite_time_picker}